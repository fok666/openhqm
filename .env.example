# Environment Configuration for OpenHQM
# Copy this file to .env and update with your settings

# Server Configuration
OPENHQM_SERVER__HOST=0.0.0.0
OPENHQM_SERVER__PORT=8000
OPENHQM_SERVER__WORKERS=4
OPENHQM_SERVER__RELOAD=false

# Queue Configuration
OPENHQM_QUEUE__TYPE=redis
OPENHQM_QUEUE__REDIS_URL=redis://localhost:6379
OPENHQM_QUEUE__REQUEST_QUEUE_NAME=openhqm-requests
OPENHQM_QUEUE__RESPONSE_QUEUE_NAME=openhqm-responses
OPENHQM_QUEUE__DLQ_NAME=openhqm-dlq

# Worker Configuration
OPENHQM_WORKER__COUNT=5
OPENHQM_WORKER__BATCH_SIZE=10
OPENHQM_WORKER__TIMEOUT_SECONDS=300
OPENHQM_WORKER__MAX_RETRIES=3
OPENHQM_WORKER__RETRY_DELAY_BASE=1.0
OPENHQM_WORKER__RETRY_DELAY_MAX=60.0

# Proxy Configuration (Reverse Proxy Mode)
OPENHQM_PROXY__ENABLED=true
OPENHQM_PROXY__DEFAULT_ENDPOINT=https://api.example.com/process
# Or use named endpoint: OPENHQM_PROXY__DEFAULT_ENDPOINT=my-api
OPENHQM_PROXY__MAX_RESPONSE_SIZE=10485760

# Named Endpoints Configuration (JSON format)
# OPENHQM_PROXY__ENDPOINTS='{"my-api": {"url": "https://api.example.com/v1", "method": "POST", "timeout": 300, "auth_type": "bearer", "auth_token": "your-token"}}'
# Multiple endpoints example:
# OPENHQM_PROXY__ENDPOINTS='{"api-1": {"url": "https://api1.example.com", "auth_type": "bearer", "auth_token": "token1"}, "api-2": {"url": "https://api2.example.com/process", "auth_type": "api_key", "auth_header_name": "X-API-Key", "auth_token": "key123"}}'

# Headers to forward from client to worker endpoint
# OPENHQM_PROXY__FORWARD_HEADERS='["Content-Type", "Accept", "User-Agent", "Authorization"]'

# Headers to strip before forwarding
# OPENHQM_PROXY__STRIP_HEADERS='["Host", "Connection"]'

OPENHQM_MONITORING__LOG_LEVEL=INFO
OPENHQM_MONITORING__LOG_FORMAT=json
